/**
 * saphir v0.2.1 (https://github.com/tameraydin/saphir)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT
 */
function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_get=function(t,e,r){for(var n=!0;n;){var i=t,o=e,s=r;u=a=c=void 0,n=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,o);if(void 0!==u){if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(s)}var a=Object.getPrototypeOf(i);if(null===a)return void 0;t=a,e=o,r=s,n=!0}};(function(){"use strict";function t(t,e,r,n){for(var i=Object.getOwnPropertyNames(e.prototype),o=0;o<i.length;o++){var s=i[o];typeof e.prototype[s]===r&&"constructor"!==s&&Object.defineProperty(t,s,{writable:!0,value:n(e,s)})}}var e=function(){};e.prototype={},t(e.prototype,Array,"function",function(t,e){return function(){t.prototype[e].apply(this.__value,arguments),this.updateKeys(),this.__cb&&this.__cb(this)}});var r=function a(){_classCallCheck(this,a),this.enumerable=!0,this.configurable=!0},n=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.get=function(){return this.__value[t]},this.set=function(e){var r=this.__value[t];e!==r&&(this.__value[t]=e,this.__cb&&this.__cb(this))}}return _inherits(e,t),e}(r),i=function(t){function e(t,r){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.get=function(){return t},this.set=function(e){if(e!==t){var n=t;t=e,this.__cb[r]&&this.__cb[r](t,n)}}}return _inherits(e,t),e}(r),o=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),Object.defineProperty(this,"__cb",{writable:!0,value:null}),Object.defineProperty(this,"__value",{writable:!0,value:[]}),Object.defineProperty(this,"length",{get:function(){return this.__value.length}}),Object.defineProperty(this,"updateKeys",{value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.__value:arguments[0];for(var e in t)this.__value[e]=t[e],Object.defineProperty(this,e,new n(e))}}),this.updateKeys(t)}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return"function"==typeof t&&(this.__cb=t),this}},{key:"_unsubscribe",value:function(){return this.__cb=null,this}}]),e}(e),s=function(){function t(e){_classCallCheck(this,t),Object.defineProperty(this,"__cb",{writable:!0,value:{}});var r=void 0;for(var n in e)r=e[n],Object.defineProperty(this,n,new i(r,n))}return _createClass(t,[{key:"_subscribe",value:function(t,e){return"string"==typeof t&&"function"==typeof e&&this.hasOwnProperty(t)&&(this.__cb[t]=e),this}},{key:"_unsubscribe",value:function(t){return"string"==typeof t&&this.__cb[t]&&(this.__cb[t]=null),this}}]),t}(),u={SaphirObject:s,SaphirArray:o},c=this;"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd?define("saphir",[],function(){return u}):c.saphir=u}).call(this);