/**
 * saphir v0.1.0 (https://github.com/tameraydin/saphir)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT
 */
function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_get=function(t,e,n){for(var r=!0;r;){var i=t,o=e,u=n;c=a=s=void 0,r=!1,null===i&&(i=Function.prototype);var c=Object.getOwnPropertyDescriptor(i,o);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(u)}var a=Object.getPrototypeOf(i);if(null===a)return void 0;t=a,e=o,n=u,r=!0}};(function(){"use strict";function t(t){return e(t)?t:t instanceof Array?new s(t):n(t)?new a(t):t}function e(t){return t instanceof a||t instanceof s}function n(t){return t instanceof Object&&Object.getPrototypeOf(t)===Object.prototype}function r(t,e,n,r){for(var i=Object.getOwnPropertyNames(e.prototype),o=0;o<i.length;o++){var u=i[o];typeof e.prototype[u]===n&&"constructor"!==u&&Object.defineProperty(t,u,{writable:!0,value:r(e,u)})}}var i=function(){};i.prototype={},r(i.prototype,Array,"function",function(t,e){return function(){t.prototype[e].apply(this.__value,arguments),this.updateKeys(),this.__cb&&this.__cb(this)}});var o=function h(){_classCallCheck(this,h),this.enumerable=!0,this.configurable=!0},u=function(t){function e(t){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.get=function(){return this.__value[t]},this.set=function(e){var n=this.__value[t];e!==n&&(this.__value[t]=e,this.__cb&&this.__cb(this))}}return _inherits(e,t),e}(o),c=function(t){function e(t,n){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.get=function(){return t},this.set=function(e){if(e!==t){var r=t;t=e,this.__cb[n]&&this.__cb[n](t,r)}}}return _inherits(e,t),e}(o),s=function(e){function n(e){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),Object.defineProperty(this,"__cb",{writable:!0,value:{}}),Object.defineProperty(this,"__value",{writable:!0,value:[]}),Object.defineProperty(this,"length",{get:function(){return this.__value.length}}),Object.defineProperty(this,"updateKeys",{value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.__value:arguments[0];for(var n in e)this.__value[n]=t(e[n]),Object.defineProperty(this,n,new u(n))}}),this.updateKeys(e)}return _inherits(n,e),_createClass(n,[{key:"subscribe",value:function(t){return this.__cb=t,this}},{key:"unsubscribe",value:function(){return this.__cb=null,this}}]),n}(i),a=function(){function e(n){_classCallCheck(this,e),Object.defineProperty(this,"__cb",{writable:!0,value:{}});var r=void 0;for(var i in n)r=t(n[i]),Object.defineProperty(this,i,new c(r,i))}return _createClass(e,[{key:"subscribe",value:function(t,e){return"string"==typeof t&&"function"==typeof e&&this.hasOwnProperty(t)&&(this.__cb[t]=e),this}},{key:"unsubscribe",value:function(t){return"string"==typeof t&&this.__cb[t]&&(this.__cb[t]=null),this}}]),e}(),l={SaphirObject:a,SaphirArray:s},f=this;"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd?define("saphir",[],function(){return l}):f.saphir=l}).call(this);