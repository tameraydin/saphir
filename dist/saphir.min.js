/**
 * saphir v0.1.0 (https://github.com/tameraydin/saphir)
 * Copyright 2015 Tamer Aydin (http://tamerayd.in)
 * Licensed under MIT
 */
function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function(e,t,r){for(var n=!0;n;){c=s=a=void 0,n=!1;var i=e,o=t,u=r,c=Object.getOwnPropertyDescriptor(i,o);if(void 0!==c){if("value"in c)return c.value;var a=c.get;return void 0===a?void 0:a.call(u)}var s=Object.getPrototypeOf(i);if(null===s)return void 0;e=s,t=o,r=u,n=!0}};(function(){"use strict";function e(e){return e instanceof a||e instanceof c}function t(e){return e instanceof Object&&Object.getPrototypeOf(e)===Object.prototype}function r(e,t,r,n){for(var i=Object.getOwnPropertyNames(t.prototype),o=0;o<i.length;o++){var u=i[o];typeof t.prototype[u]===r&&"constructor"!==u&&Object.defineProperty(e,u,{writable:!0,value:n(t,u)})}}var n=function(){};n.prototype={},r(n.prototype,Array,"function",function(e,t){return function(){e.prototype[t].apply(this.__value,arguments),this.updateKeys()}});var i=function l(){_classCallCheck(this,l),this.enumerable=!0,this.configurable=!0},o=function(e){function t(e,r){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.get=function(){return e.__value[r]},this.set=function(t){var n=e.__value[r];if(t!==n){var i=n;e.__value[r]=s.createObservable(t);var o=e.__cb[r];o&&o(n,i)}}}return _inherits(t,e),t}(i),u=function(e){function t(e,r,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.get=function(){return e},this.set=function(t){if(t!==e){var i=e;e=s.createObservable(t),r[n]&&r[n](e,i)}}}return _inherits(t,e),t}(i),c=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),Object.defineProperty(this,"__cb",{writable:!0,value:{}}),Object.defineProperty(this,"__value",{writable:!0,value:[]}),Object.defineProperty(this,"updateKeys",{value:function(){var e=void 0===arguments[0]?this.__value:arguments[0];for(var t in e)this.__value[t]=s.createObservable(e[t]),Object.defineProperty(this,t,new o(this,t))}}),this.updateKeys(e),Object.defineProperty(this,"length",{get:function(){return this.__value.length}})}return _inherits(t,e),_createClass(t,[{key:"subscribe",value:function(){return!0}},{key:"unsubscribe",value:function(){return!0}}]),t}(n),a=function(){function e(t){_classCallCheck(this,e),Object.defineProperty(this,"__cb",{writable:!0,value:{}});var r=void 0;for(var n in t)r=s.createObservable(t[n]),Object.defineProperty(this,n,new u(r,this.__cb,n))}return _createClass(e,[{key:"subscribe",value:function(e,t){return"string"==typeof e&&"function"==typeof t&&this.hasOwnProperty(e)?(this.__cb[e]=t,!0):!1}},{key:"unsubscribe",value:function(e){return"string"==typeof e&&this.__cb[e]?(this.__cb[e]=null,!0):!1}}]),e}(),s={createObservable:function(r){var n=void 0;if(e(r))return r;if(r instanceof Array)n=new c(r);else{if(!t(r))return r;n=new a(r)}return n}},f=this;"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd?define("saphir",[],function(){return s}):f.saphir=s}).call(this);